webpackJsonp([53,70],{48:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={created:function(){this.uuid=Math.random().toString(36).substring(3,8)}}},360:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(746),r=n(s),i=o(854),c=n(i),a=o(48),l=n(a);t.default={mixins:[l.default],mounted:function(){var e=this;(0,c.default)()&&this.src&&this.webpSrc&&(this.src=this.webpSrc),this.$nextTick(function(){var t=e,o="vux-ximg-"+e.uuid;e.$el.setAttribute("id",o),e.$el.setAttribute("data-src",e.src),e.blazy=new r.default({scroller:e.scroller,container:e.container,selector:"#"+o,offset:t.offset,errorClass:t.errorClass,successClass:t.successClass,success:function(e){t.$emit("on-success",t.src,e)},error:function(e,o){t.$emit("on-error",t.src,e,o)}})})},props:{src:String,webpSrc:String,defaultSrc:{type:String,default:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},errorClass:String,successClass:String,offset:{type:Number,defaut:100},scroller:Object,container:String},beforeDestroy:function(){this.blazy&&this.blazy.destroy()}}},424:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(780),r=n(s);t.default={components:{XImg:r.default},methods:{success:function(e,t){console.log("success load",e);var o=t.parentNode.querySelector("span");t.parentNode.removeChild(o)},error:function(e,t,o){console.log("error load",o,e);var n=t.parentNode.querySelector("span");n.innerText="load error"}},data:function(){return{list:["https://o5omsejde.qnssl.com/demo/test1.jpg","https://o5omsejde.qnssl.com/demo/test2.jpg","https://o5omsejde.qnssl.com/demo/test0.jpg","https://o5omsejde.qnssl.com/demo/test4.jpg","https://o5omsejde.qnssl.com/demo/test5.jpg","https://o5omsejde.qnssl.com/demo/test6.jpg","https://o5omsejde.qnssl.com/demo/test7.jpg","https://o5omsejde.qnssl.com/demo/test8.jpg"]}}}},503:function(e,t,o){t=e.exports=o(2)(),t.push([e.id,".b-lazy{transition:opacity .5s ease-in-out;max-width:100%;opacity:0}.b-lazy.b-loaded{opacity:1}","",{version:3,sources:["/./src/components/x-img/index.vue"],names:[],mappings:"AACA,QACE,mCAAsC,AACtC,eAAgB,AAChB,SAAW,CACZ,AACD,iBACE,SAAW,CACZ",file:"index.vue",sourcesContent:["\n.b-lazy {\n  transition: opacity 500ms ease-in-out;\n  max-width: 100%;\n  opacity: 0;\n}\n.b-lazy.b-loaded {\n  opacity: 1;\n}\n"],sourceRoot:"webpack://"}])},526:function(e,t,o){t=e.exports=o(2)(),t.push([e.id,'.ximg-demo{width:100%;height:auto}.ximg-error{background-color:#ff0}.ximg-error:after{content:"\\52A0\\8F7D\\5931\\8D25";color:red}',"",{version:3,sources:["/./src/demos/XImg.vue"],names:[],mappings:"AACA,WACE,WAAY,AACZ,WAAa,CACd,AACD,YACE,qBAAyB,CAC1B,AACD,kBACE,+BAAgB,AAChB,SAAW,CACZ",file:"XImg.vue",sourcesContent:["\n.ximg-demo {\n  width: 100%;\n  height: auto;\n}\n.ximg-error {\n  background-color: yellow;\n}\n.ximg-error:after {\n  content: '加载失败';\n  color: red;\n}\n"],sourceRoot:"webpack://"}])},567:function(e,t,o){var n=o(503);"string"==typeof n&&(n=[[e.id,n,""]]);o(3)(n,{});n.locals&&(e.exports=n.locals)},594:function(e,t,o){var n=o(526);"string"==typeof n&&(n=[[e.id,n,""]]);o(3)(n,{});n.locals&&(e.exports=n.locals)},683:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("img",{staticClass:"vux-x-img",attrs:{src:e.defaultSrc}})},staticRenderFns:[]}},730:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",e._l(e.list,function(t){return o("div",{staticStyle:{"background-color":"yellow","text-align":"center"}},[o("span",{staticStyle:{"font-size":"20px"}},[e._v("Loading")]),e._v(" "),o("x-img",{staticClass:"ximg-demo",attrs:{src:t,"error-class":"ximg-error",offset:-100},on:{"on-success":e.success,"on-error":e.error}})],1)}))},staticRenderFns:[]}},746:function(e,t,o){var n,s;!function(r,i){n=i,s="function"==typeof n?n.call(t,o,t,e):n,!(void 0!==s&&(e.exports=s))}(this,function(){"use strict";function e(e){var o=e._util;if(o.elements=u(e.options.selector),o.count=o.elements.length,o.destroyed&&(o.destroyed=!1,e.options.container&&A(e.options.container,function(e){f(e,"scroll",o.validateT)}),f(window,"resize",o.saveViewportOffsetT),f(window,"resize",o.validateT),f(window,"scroll",o.validateT),e.options.scroller)){var n=e.options.scroller._xscroll,s=n.userConfig.useOriginScroll?"scroll":"scrollend";n.on("afterrender",o.validateT,e),n.on(s,o.validateT,e)}t(e)}function t(e){for(var t=e._util,n=0;n<t.count;n++){var s=t.elements[n];(o(s)||a(s,e.options.successClass))&&(e.load(s),t.elements.splice(n,1),t.count--,n--)}0===t.count&&e.destroy()}function o(e){var t=e.getBoundingClientRect();return t.right>=v.left&&t.bottom>=v.top&&t.left<=v.right&&t.top<=v.bottom}function n(e,t,o){if(!a(e,o.successClass)&&(t||o.loadInvisible||e.offsetWidth>0&&e.offsetHeight>0)){var n=e.getAttribute(g)||e.getAttribute(o.src);if(n){var u=n.split(o.separator),d=u[h&&u.length>1?1:0],m=c(e,"img");if(m||void 0===e.src){var v=new Image,w=function(){o.error&&o.error(e,"invalid"),l(e,o.errorClass),p(v,"error",w),p(v,"load",C)},C=function(){if(m){r(e,d),i(e,b,o.srcset);var t=e.parentNode;t&&c(t,"picture")&&A(t.getElementsByTagName("source"),function(e){i(e,b,o.srcset)}),o.scroller&&o.scroller.reset()}else e.style.backgroundImage='url("'+d+'")';s(e,o),p(v,"load",C),p(v,"error",w)};f(v,"error",w),f(v,"load",C),r(v,d)}else r(e,d),s(e,o)}else c(e,"video")?(A(e.getElementsByTagName("source"),function(e){i(e,y,o.src)}),e.load(),s(e,o)):(o.error&&o.error(e,"missing"),l(e,o.errorClass))}}function s(e,t){l(e,t.successClass),t.success&&t.success(e),e.removeAttribute(t.src),A(t.breakpoints,function(t){e.removeAttribute(t.src)})}function r(e,t){e[y]=t}function i(e,t,o){var n=e.getAttribute(o);n&&(e[t]=n,e.removeAttribute(o))}function c(e,t){return e.nodeName.toLowerCase()===t}function a(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")!==-1}function l(e,t){a(e,t)||(e.className+=" "+t)}function u(e){for(var t=[],o=document.querySelectorAll(e),n=o.length;n--;t.unshift(o[n]));return t}function d(e){v.bottom=(window.innerHeight||document.documentElement.clientHeight)+e,v.right=(window.innerWidth||document.documentElement.clientWidth)+e}function f(e,t,o){e.attachEvent?e.attachEvent&&e.attachEvent("on"+t,o):e.addEventListener(t,o,!1)}function p(e,t,o){e.detachEvent?e.detachEvent&&e.detachEvent("on"+t,o):e.removeEventListener(t,o,!1)}function A(e,t){if(e&&t)for(var o=e.length,n=0;n<o&&t(e[n],n)!==!1;n++);}function m(e,t,o){var n=0;return function(){var s=+new Date;s-n<t||(n=s,e.apply(o,arguments))}}var g,v,h,y="src",b="srcset";return function(o){if(!document.querySelectorAll){var s=document.createStyleSheet();document.querySelectorAll=function(e,t,o,n,r){for(r=document.all,t=[],e=e.replace(/\[for\b/gi,"[htmlFor").split(","),o=e.length;o--;){for(s.addRule(e[o],"k:v"),n=r.length;n--;)r[n].currentStyle.k&&t.push(r[n]);s.removeRule(0)}return t}}var r=this,i=r._util={};i.elements=[],i.destroyed=!0,r.options=o||{},r.options.error=r.options.error||!1,r.options.offset=r.options.offset||100,r.options.success=r.options.success||!1,r.options.selector=r.options.selector||".b-lazy",r.options.separator=r.options.separator||"|",r.options.container=!!r.options.container&&document.querySelectorAll(r.options.container),r.options.errorClass=r.options.errorClass||"b-error",r.options.breakpoints=r.options.breakpoints||!1,r.options.loadInvisible=r.options.loadInvisible||!1,r.options.successClass=r.options.successClass||"b-loaded",r.options.validateDelay=r.options.validateDelay||25,r.options.saveViewportOffsetDelay=r.options.saveViewportOffsetDelay||50,r.options.srcset=r.options.srcset||"data-srcset",r.options.src=g=r.options.src||"data-src",h=window.devicePixelRatio>1,v={},v.top=0-r.options.offset,v.left=0-r.options.offset,r.revalidate=function(){e(this)},r.load=function(e,t){var o=this.options;void 0===e.length?n(e,t,o):A(e,function(e){n(e,t,o)})},r.destroy=function(){var e=this,t=e._util;e.options.container&&A(e.options.container,function(e){p(e,"scroll",t.validateT)}),p(window,"scroll",t.validateT),p(window,"resize",t.validateT),p(window,"resize",t.saveViewportOffsetT),e.scroller&&e.scroller._xscroll&&e.scroller._xscroll.off("scroll scrollend afterrender",t.validateT,e.scroller._xscroll),t.count=0,t.elements.length=0,t.destroyed=!0},i.validateT=m(function(){t(r)},r.options.validateDelay,r),i.saveViewportOffsetT=m(function(){d(r.options.offset)},r.options.saveViewportOffsetDelay,r),d(r.options.offset),A(r.options.breakpoints,function(e){if(e.width>=window.screen.width)return g=e.src,!1}),setTimeout(function(){e(r)})}})},780:function(e,t,o){var n,s;o(567),n=o(360);var r=o(683);s=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(s=n=n.default),"function"==typeof s&&(s=s.options),s.render=r.render,s.staticRenderFns=r.staticRenderFns,e.exports=n},848:function(e,t,o){var n,s;o(594),n=o(424);var r=o(730);s=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(s=n=n.default),"function"==typeof s&&(s=s.options),s.render=r.render,s.staticRenderFns=r.staticRenderFns,e.exports=n},854:function(e,t){function o(){if(window.localStorage&&"object"==typeof localStorage&&(!localStorage.getItem(n)||"available"!==localStorage.getItem(n)&&"disable"!==localStorage.getItem(n))){var e=document.createElement("img");e.onload=function(){try{localStorage.setItem(n,"available")}catch(e){}},e.onerror=function(){try{localStorage.setItem(n,"disable")}catch(e){}},e.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA=="}}var n="can_use_webp";o(),e.exports=function(){return!!window.localStorage&&"available"===window.localStorage.getItem(n)}}});